{% load static %}

<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ExamPro{% endblock %}</title><!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

{% block extra_css %}{% endblock %}

</head><body class="bg-gray-50"><!-- Navigation --><nav class="bg-white shadow-sm fixed w-full top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <div class="flex items-center">
                <svg class="h-8 w-8 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
                <span class="ml-2 text-2xl font-bold text-gray-900">ExamPro</span>
            </div>        <div class="hidden md:flex space-x-8">
            <a href="#features" class="text-gray-700 hover:text-indigo-600 transition">Features</a>
            <a href="#pricing" class="text-gray-700 hover:text-indigo-600 transition">Pricing</a>
            <a href="#about" class="text-gray-700 hover:text-indigo-600 transition">About</a>
            <a href="#contact" class="text-gray-700 hover:text-indigo-600 transition">Contact</a>
        </div>
        <div class="flex items-center space-x-4 relative">
        {% if user.is_authenticated %}
            <!-- Profile Circle -->
            <div class="relative">
                <button id="profileBtn" class="flex items-center space-x-2 focus:outline-none">
                    <div class="h-10 w-10 bg-indigo-600 rounded-full flex items-center justify-center">
                        <span class="text-white font-semibold">
                            {{ user.first_name|default:user.username|slice:":1"|upper }}{{ user.last_name|default:""|slice:":1"|upper }}
                        </span>
                    </div>
                    <span class="hidden md:block font-medium text-gray-900">{{ user.get_full_name|default:user.username }}</span>
                </button>
    
                <!-- Dropdown -->
                <div id="profileDropdown"
                     class="absolute right-0 mt-2 w-32 bg-white shadow-lg rounded-lg py-2 opacity-0 pointer-events-none transition-all duration-200">
                    <a href="{% url 'logout' %}"
                       class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                       Logout
                    </a>
                </div>
            </div>
    
        {% else %}
            <!-- Non-auth links -->
            <a href="{% url 'login' %}" class="text-gray-700 hover:text-indigo-600 transition">Login</a>
            <a href="{% url 'signup' %}" class="text-gray-700 hover:text-indigo-600 transition">Sign Up</a>
            <a href="#" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition">Get Started</a>
        {% endif %}
    </div>
        
    </div>
</div>

</nav><!-- Page Content --><main class="pt-16">
    {% block content %}{% endblock %}
</main><!-- Footer --><footer class="bg-gray-900 text-gray-300 py-12 mt-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-4 gap-8">
            <div>
                <div class="flex items-center mb-4">
                    <svg class="h-8 w-8 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    <span class="ml-2 text-xl font-bold text-white">ExamPro</span>
                </div>
                <p class="text-sm">Making online assessments simple, secure, and effective.</p>
            </div>        <div>
            <h4 class="font-semibold text-white mb-4">Product</h4>
            <ul class="space-y-2 text-sm">
                <li>Features</li>
                <li>Pricing</li>
                <li>Security</li>
                <li>Integrations</li>
            </ul>
        </div>

        <div>
            <h4 class="font-semibold text-white mb-4">Company</h4>
            <ul class="space-y-2 text-sm">
                <li>About</li>
                <li>Careers</li>
                <li>Blog</li>
                <li>Contact</li>
            </ul>
        </div>

        <div>
            <h4 class="font-semibold text-white mb-4">Support</h4>
            <ul class="space-y-2 text-sm">
                <li>Help Center</li>
                <li>Docs</li>
                <li>API</li>
                <li>Status</li>
            </ul>
        </div>
    </div>

    <div class="border-t border-gray-800 mt-8 pt-8 text-sm text-center">
        Â© {{ now|date:"Y" }} ExamPro. All rights reserved.
    </div>
</div>

</footer>
{% block extra_js %}

{% endblock %}
<script>
    const profileBtn = document.getElementById('profileBtn');
    const profileDropdown = document.getElementById('profileDropdown');

    profileBtn.addEventListener('click', () => {
        if (profileDropdown.classList.contains('opacity-0')) {
            profileDropdown.classList.remove('opacity-0', 'pointer-events-none');
            profileDropdown.classList.add('opacity-100');
        } else {
            profileDropdown.classList.add('opacity-0', 'pointer-events-none');
            profileDropdown.classList.remove('opacity-100');
        }
    });

    // Close dropdown if click outside
    document.addEventListener('click', (e) => {
        if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
            profileDropdown.classList.add('opacity-0', 'pointer-events-none');
            profileDropdown.classList.remove('opacity-100');
        }
    });
</script>
</body>
</html>